var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},BaseObject=function(){function n(){}return n.prototype.Cast=function(){return this},n.prototype.GetType=function(){if(Object.getPrototypeOf)return new ObjectType(Object.getPrototypeOf(this));try{return new ObjectType(this.__proto__.constructor)}catch(n){return console.warn("This browser does not support dynamic prototype retrieval."),undefined}},n}(),HashableObject=function(n){function t(){n.call(this);this._objectHash=t._instanceCount++}return __extends(t,n),t.prototype.GetHashCode=function(){return this._objectHash},t._instanceCount=0,t}(BaseObject),ObjectType=function(){function n(n){this.objPrototype=n}return Object.defineProperty(n.prototype,"Name",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ModuleName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FullName",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsAbstract",{get:function(){return!1},enumerable:!0,configurable:!0}),n.prototype.GetOwnProperties=function(){return Object.getOwnPropertyNames(this.objPrototype)},n.prototype.GetProperties=function(){return[]},n.prototype.GetMethods=function(){return[]},n}(),Exception=function(){function n(n){this.name="Exception";this.message="No message given.";n!==undefined&&(this.message=n)}return n.IgnoreOrDefault=function(n,t,i){for(var u=[],r=0;r<arguments.length-3;r++)u[r]=arguments[r+3];try{return u=[].concat(arguments).splice(2),t.apply(n,u)}catch(f){return i}},n.IgnoreAll=function(n,t){for(var r=[],i=0;i<arguments.length-2;i++)r[i]=arguments[i+2];try{r=[].concat(arguments).splice(2);t.apply(n,r)}catch(u){}},n.Ignore=function(n){try{n()}catch(t){}},n}(),Collections,UnknownPanelException,Panels;Exception.prototype=Error;var RuntimeException=function(n){function t(t){n.call(this,t);this.name="RuntimeException";this.message="No message given."}return __extends(t,n),t.prototype.toString=function(){return'Exception "'+this.name+'" occurred with message; '+this.message},t}(Exception),NotImplementedException=function(n){function t(){n.apply(this,arguments);this.name="NotImplementedException"}return __extends(t,n),t}(RuntimeException),AbstractMethodException=function(n){function t(){n.apply(this,arguments);this.name="AbstractMethodException";this.message="This method is an abstract stub. (As typescript does not support the abstract keyword). Please make sure this method is implemented if you get this exception."}return __extends(t,n),t}(NotImplementedException),MethodNotOverwrittenException=function(n){function t(){n.apply(this,arguments);this.name="MethodNotOverwrittenException";this.message="This method's prototype should have been overwritten with the correct function, however, somehow it wasn't"}return __extends(t,n),t}(RuntimeException),MethodNotAccessibleException=function(n){function t(){n.apply(this,arguments);this.name="MethodNotAccessibleException"}return __extends(t,n),t}(RuntimeException),NullReferenceException=function(n){function t(){n.apply(this,arguments);this.name="NullReferenceException"}return __extends(t,n),t}(RuntimeException),KeyNotFoundException=function(n){function t(){n.apply(this,arguments);this.name="KeyNotFoundException";this.message="The key you gave was not found in this collection."}return __extends(t,n),t}(RuntimeException),IndexOutOfBoundsException=function(n){function t(){n.apply(this,arguments);this.name="IndexOutOfBoundsException";this.message="The index given was less than 0 or larger than the length of this collection."}return __extends(t,n),t}(RuntimeException),DuplicateKeyException=function(n){function t(){n.apply(this,arguments);this.name="DuplicateKeyException";this.message="The key you wanted to add already exists on this collection."}return __extends(t,n),t}(RuntimeException),InvalidArgumentException=function(n){function t(){n.apply(this,arguments);this.name="InvalidArgumentException";this.message="The argument given to this method was invalid."}return __extends(t,n),t}(RuntimeException),Guid=function(n){function t(t){n.call(this);this._guid=t}return __extends(t,n),t.prototype.CompareTo=function(n){if(n.toString()==this._guid)return 0;if(n.toString()>this._guid)return 1;if(n.toString()<this._guid)return-1;throw new Error("Error during comparing, this JS engine really sucks.");},t.prototype.toString=function(){return this._guid},t.NewGuid=function(){return new t("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)}))},t}(BaseObject),TemplateFactory=function(){function n(){}return n.WithTemplate=function(t,i){if(n.Templates[t]!==undefined)return i(n.Templates[t]);jQuery.ajax(n.ViewBasePath+t+".html",{async:!0,dataType:"text",success:function(r){n.Templates[t]=_.template(r);i(n.Templates[t])},error:function(n,t,i){return console.error("Unable to retrieve the template; ",t,i)}})},n.GetTemplate=function(t){if(n.Templates[t]!==undefined)return n.Templates[t];var i="";return jQuery.ajax(n.ViewBasePath+t+".html",{async:!1,dataType:"text",success:function(n){i=n}}),_.template(i)},n.ViewBasePath="views/",n.Templates={},n}(),Collections;(function(n){var t=function(){function n(n){if(this.Index=0,n==undefined||n==null)throw new InvalidArgumentException;this.Items=n}return Object.defineProperty(n.prototype,"Current",{get:function(){return this.Items[this.Index]},enumerable:!0,configurable:!0}),n.prototype.MoveNext=function(){return this.HasNext()?(this.Index++,!0):!1},n.prototype.HasNext=function(){return this.Index+1<this.Items.length},n.prototype.IsValid=function(){return this.Index<this.Items.length},n.prototype.Reset=function(){this.Index=0},n}();n.SimpleEnumerator=t})(Collections||(Collections={})),function(n){var i=function(){function i(){}return i.prototype.Each=function(n){var t=this.GetEnumerator();if(t.Current!=undefined)do n(t.Current);while(t.MoveNext())},i.prototype.BreakableEach=function(n){var t=this.GetEnumerator();if(t.Current!=undefined)do n(t.Current,t);while(t.MoveNext())},i.prototype.Any=function(n){var t=this.GetEnumerator();if(t.Current==undefined)return!1;do if(n(t.Current))return!0;while(t.MoveNext());return!1},i.prototype.All=function(n){var t=this.GetEnumerator();if(t.Current==undefined)return!0;do if(!n(t.Current))return!1;while(t.MoveNext());return!0},i.prototype.ContainsDeep=function(n,t){var i=this.GetEnumerator();if(i.Current==undefined)return!1;do if(t(i.Current)==n)return!0;while(i.MoveNext());return!1},i.prototype.Where=function(t){var i=this.GetEnumerator(),r=new n.List;if(i.Current==undefined)return r;do t(i.Current)&&r.Add(i.Current);while(i.MoveNext());return r},i.prototype.Select=function(t){var i=this.GetEnumerator(),r=new n.List;if(i.Current==undefined)return r;do r.Add(t(i.Current));while(i.MoveNext());return r},i.prototype.GroupBy=function(t,i){var r=this.GetEnumerator(),u=new n.Dictionary,f,o,e;if(r.Current==undefined)return new n.List;do f=t(r.Current),u.ContainsKey(f)?(o=new n.List,u.Set(f,o)):u.Get(f).Add(r.Current);while(r.MoveNext());return e=new n.List,u.Each(function(n){return e.Add(i(n.Key,n.Value))}),e},i.prototype.Distinct=function(){var t=this.GetEnumerator(),i=new n.List;if(t.Current==undefined)return i;do i.Contains(t.Current)||i.Add(t.Current);while(t.MoveNext());return i},i.prototype.Except=function(t){var i=this.GetEnumerator(),r=new n.List;if(i.Current==undefined)return r;do t.Contains(i.Current)||r.Add(i.Current);while(i.MoveNext());return r},i.prototype.First=function(n){var t=this.GetEnumerator();if(n==undefined)return t.Current;do if(n(t.Current))return t.Current;while(t.MoveNext());return null},i.prototype.FirstOrDefault=function(n,t){var i=this.GetEnumerator();if(t==undefined)return i.Current;do if(t(i.Current))return i.Current;while(i.MoveNext());return n},i.prototype.Last=function(n){var i=this.GetEnumerator(),t;if(n==undefined){t=null;do t=i.Current;while(i.MoveNext());return t}t=null;do n(i.Current)&&(t=i.Current);while(i.MoveNext());return t},i.prototype.LastOrDefault=function(n,t){var r=this.GetEnumerator(),i;if(t==undefined){i=n;do i=r.Current;while(r.MoveNext());return i}i=n;do t(r.Current)&&(i=r.Current);while(r.MoveNext());return i},i.prototype.ElementAt=function(n){var t=this.GetEnumerator(),i;if(t.Current==undefined)return null;i=0;do{if(n==i)return t.Current;i++}while(t.MoveNext());return null},i.prototype.ElementAtOrDefault=function(n){var t=this.ElementAt(n);if(t==null)throw new Error("Index is invalid.");return t},i.prototype.IndexOfFirst=function(n){var t=this.GetEnumerator(),i;if(t.Current==undefined)return-1;i=0;do{if(n(t.Current))return i;i++}while(t.MoveNext());return-1},i.prototype.Min=function(n){var t=this.GetEnumerator(),i,r,u,f;if(n==undefined)if(typeof t.Current=="number")for(i=t.Current;t.MoveNext();)i>t.Current&&(i=t.Current);else throw new Error("Invalid type given, expected number. Please extract the correct value.");else{if(t.Current==undefined)return null;for(r=t.Current,u=n(t.Current);t.MoveNext();)f=n(t.Current),u>f&&(u=f,r=t.Current);return r}},i.prototype.Max=function(n){var t=this.GetEnumerator(),i,r,u,f;if(n==undefined)if(typeof t.Current=="number")for(i=t.Current;t.MoveNext();)i<t.Current&&(i=t.Current);else throw new Error("Invalid type given, expected number. Please extract the correct value.");else{if(t.Current==undefined)return null;for(r=t.Current,u=n(t.Current);t.MoveNext();)f=n(t.Current),u<f&&(u=f,r=t.Current);return r}},i.prototype.CountAll=function(n){var r=this.GetEnumerator(),i;if(n==undefined){if(this instanceof t)return this.Count;i=0;do i++;while(r.MoveNext());return i}i=0;do n(r.Current)&&i++;while(r.MoveNext());return i},i.prototype.ToList=function(){var t=this.GetEnumerator(),i=new n.List;do i.Add(t.Current);while(t.MoveNext());return i},i.prototype.ToArray=function(){for(var t=this.GetEnumerator(),n=[];t.MoveNext();)n[n.length]=t.Current;return n},i.prototype.ToDictionary=function(t,i,r){var u=this.GetEnumerator(),r;for(r==undefined&&(r=new n.Dictionary);u.MoveNext();)r.Set(t(u.Current),i(u.Current));return r},i.CopyToArray=function(n){return this.EnumerateToArray(n.GetEnumerator())},i.EnumerateToArray=function(n){var t=[];if(!n.IsValid())return t;do t.push(n.Current);while(n.MoveNext());return t},i.prototype.GetEnumerator=function(){throw new Error("This method is abstract, and should therefore be overridden by the extending class.");},i}(),t;n.Enumerable=i;t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.Add=function(){throw new NotImplementedException;},t.prototype.Clear=function(){throw new NotImplementedException;},t.prototype.Contains=function(){throw new NotImplementedException;},t.prototype.Remove=function(){throw new NotImplementedException;},t.prototype.CopyTo=function(){throw new NotImplementedException;},t.prototype.GetNative=function(){throw new NotImplementedException;},t.prototype.RemoveAll=function(n){var t=this.GetEnumerator(),i=0;if(!t.IsValid())return i;do n(t.Current)&&(this.Remove(t.Current),i++);while(t.MoveNext());return i},t.prototype.RemoveFirst=function(n){var t=this.GetEnumerator();if(t.IsValid())do if(n(t.Current)){this.Remove(t.Current);return}while(t.MoveNext())},t}(i);n.Collection=t}(Collections||(Collections={})),function(n){var u=function(n){function t(t,i){n.call(this);this.Value1=t;this.Value2=i}return __extends(t,n),t}(BaseObject),t,i,r;n.Pair=u;t=function(n){function t(t,i,r){n.call(this);this.Value1=t;this.Value2=i;this.Value3=r}return __extends(t,n),t}(BaseObject);n.Tuple=t;i=function(n){function t(t,i,r,u){n.call(this);this.Value1=t;this.Value2=i;this.Value3=r;this.Value4=u}return __extends(t,n),t}(BaseObject);n.Quadruple=i;r=function(n){function t(t,i,r,u,f){n.call(this);this.Value1=t;this.Value2=i;this.Value3=r;this.Value4=u;this.Value5=f}return __extends(t,n),t}(BaseObject);n.Pentuple=r}(Collections||(Collections={})),function(n){var t=function(){function t(){}return t.GetEnumerator=function(t){if(t==undefined)throw new InvalidArgumentException;return new n.SimpleEnumerator(t)},t}();n.ArrayHelper=t}(Collections||(Collections={})),function(n){var r=function(i){function r(){i.apply(this,arguments);this._length=0}return __extends(r,i),Object.defineProperty(r.prototype,"Count",{get:function(){return this._length},enumerable:!0,configurable:!0}),r.prototype.Add=function(n){if(n===undefined)throw new InvalidArgumentException;this[this._length]=n;this._length++},r.prototype.AddRange=function(n){if(n===undefined)throw new InvalidArgumentException;var t=n.GetEnumerator();if(t.Current!=undefined)do this.Add(t.Current);while(t.MoveNext())},r.prototype.Remove=function(n){var i,t;if(n===undefined)throw new InvalidArgumentException;for(i=0,t=0;t<this._length;t++)n==this[t]&&(delete this[t],i++);if(i>0)this._fixIndex();else throw new KeyNotFoundException;},r.prototype.Clear=function(){for(var n=0;n<this._length;n++)delete this[n];this._length=0},r.prototype.Contains=function(n){for(var t=0;t<this._length;t++)if(n==this[t])return!0;return!1},r.prototype.IndexOf=function(n){if(n===undefined)throw new InvalidArgumentException;for(var t=0;t<this._length;t++)if(n==this[t])return t;return-1},r.prototype.ElementAt=function(n){if(n===undefined)throw new InvalidArgumentException;if(n<0||n>=this._length)throw new IndexOutOfBoundsException;return this[n]},r.prototype.Insert=function(n,t){if(n===undefined||t===undefined)throw new InvalidArgumentException;if(n<0||n>this._length)throw new IndexOutOfBoundsException;this._makeGap(n,1);this[n]=t},r.prototype.InsertRange=function(t,i){var u,r;if(t===undefined||i==undefined)throw new InvalidArgumentException;if(t<0||t>this._length)throw new IndexOutOfBoundsException;for(u=n.Enumerable.CopyToArray(i),this._makeGap(t,u.length),r=0;r<u.length;r++)this[r]=u[r]},r.prototype.RemoveAt=function(n){if(n===undefined)throw new InvalidArgumentException;if(n<0||n>=this._length)throw new IndexOutOfBoundsException;delete this[n];this._fixIndex()},r.prototype.RemoveRange=function(n,t){if(n===undefined||t===undefined)throw new InvalidArgumentException;if(n<0||n>=this._length||t<0||t>this._length-n)throw new IndexOutOfBoundsException;for(var i=0;i<t;i++)delete this[n+i];this._fixIndex()},r.prototype.CopyTo=function(n){for(var t=0;t<this._length;t++)n.Add(this[t])},r.prototype.GetEnumerator=function(){return new t(this)},r.prototype.GetNative=function(){return this},r.prototype._fixIndex=function(){for(var i,r=0,t=-1,u=this._length,n=0;n<u;n++)if(this[n]===undefined&&this[n+1]===undefined)if(t>=0)continue;else t=n;else t>=0&&this[n]!==undefined?(i=this._removeGap(t,n-1),r+=i,u-=i,t=-1):t==-1&&this[n]===undefined&&(i=this._removeGap(n,n),u-=i,r+=i);t>-1&&(r+=this._length-t);this._length-=r},r.prototype._removeGap=function(n,t){for(var i,u=t-n+1,f=1,r=n;r<this._length;r++)this[r]=this[t+f],f++;for(i=this._length-u;i<this._length;i++)delete this[i];return u},r.prototype._makeGap=function(n,t){for(var r={},i=0;i<this._length-n;i++)r[i]=this[n+i],delete this[n+i];for(i=0;i<this._length-n;i++)this[n+t+i]=r[i];this._length+=t},r}(n.Collection),t,i;n.List=r;t=function(){function n(n){if(this.Index=0,n==undefined||n==null)throw new InvalidArgumentException;this.List=n}return Object.defineProperty(n.prototype,"Current",{get:function(){return this.List[this.Index]},enumerable:!0,configurable:!0}),n.prototype.MoveNext=function(){return this.HasNext()?(this.Index++,!0):!1},n.prototype.HasNext=function(){return this.Index+1<this.List.Count},n.prototype.IsValid=function(){return this.Index<this.List.Count},n.prototype.Reset=function(){this.Index=0},n}();n.ListEnumerator=t;i=function(t){function i(){t.apply(this,arguments);this.Items=[]}return __extends(i,t),Object.defineProperty(i.prototype,"Count",{get:function(){return this.Items.length},enumerable:!0,configurable:!0}),i.prototype.Add=function(n){if(n===undefined)throw new InvalidArgumentException;this.Items.push(n)},i.prototype.AddRange=function(t){if(t===undefined)throw new InvalidArgumentException;this.Items=this.Items.concat(n.Enumerable.CopyToArray(t))},i.prototype.Remove=function(n){var i,t;if(n===undefined)throw new InvalidArgumentException;for(i=!1,t=0;t<this.Items.length;t++)n==this.Items[t]&&(this.Items.splice(t,1),i=!0);if(!i)throw new KeyNotFoundException;},i.prototype.RemoveRange=function(n,t){if(n===undefined||t===undefined)throw new InvalidArgumentException;if(n<0||n>=this.Items.length||t<0||t>this.Items.length-n)throw new IndexOutOfBoundsException;this.Items.splice(n,t)},i.prototype.Clear=function(){this.Items=[]},i.prototype.Contains=function(n){return this.Items.indexOf(n)>=0},i.prototype.IndexOf=function(n){if(n===undefined)throw new InvalidArgumentException;return this.Items.indexOf(n)},i.prototype.ElementAt=function(n){if(n===undefined)throw new InvalidArgumentException;if(n<0||n>=this.Items.length)throw new IndexOutOfBoundsException;return this.Items[n]},i.prototype.Insert=function(n,t){if(n===undefined||t===undefined)throw new InvalidArgumentException;if(n<0||n>this.Items.length)throw new IndexOutOfBoundsException;this.Items.splice(n,0,t)},i.prototype.InsertRange=function(t,i){if(t===undefined||i==undefined)throw new InvalidArgumentException;if(t<0||t>this.Items.length)throw new IndexOutOfBoundsException;var r=this.Items.slice(t),u=this.Items;this.Items=u.concat(n.Enumerable.CopyToArray(i)).concat(r)},i.prototype.RemoveAt=function(n){if(n===undefined)throw new InvalidArgumentException;if(n<0||n>=this.Items.length)throw new IndexOutOfBoundsException;this.Items.splice(n,1)},i.prototype.CopyTo=function(n){for(var t=0;t<this.Items.length;t++)n.Add(this.Items[t])},i.prototype.GetEnumerator=function(){return new n.SimpleEnumerator(this.Items)},i.prototype.GetNative=function(){return this.Items},i}(n.Collection);n.ArrayList=i}(Collections||(Collections={})),function(n){var e=function(n){function i(){n.apply(this,arguments);this.Items=[]}return __extends(i,n),Object.defineProperty(i.prototype,"Count",{get:function(){return this.Items.length},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Keys",{get:function(){for(var n=[],t=0,i=this.Items.length;t<i;)n[n.length]=this.Items[t].Key;return n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Values",{get:function(){for(var n=[],t=0,i=this.Items.length;t<i;)n[n.length]=this.Items[t].Value;return n},enumerable:!0,configurable:!0}),i.prototype.Get=function(n){for(var t=0,i=this.Items.length;t<i;)if(this.Items[t].Key==n)return this.Items[t].Value;return null},i.prototype.Set=function(n,i){for(var r=0,u=this.Items.length;r<u;)this.Items[r].Key==n&&(this.Items[r].Value=i);this.Add(new t(n,i))},i.prototype.Add=function(n){if(n===undefined)throw new InvalidArgumentException;n==null?(this.Items.push(new t(null,null)),console.warn("It probably isn't smart to add Null values to a Dictionary. Maybe you'd want to change your application to check for those kinds of values?")):this.Items.push(n)},i.prototype.GetKey=function(n){for(var t=0,i=this.Items.length;t<i;)if(this.Items[t].Value==n)return this.Items[t].Key;return null},i.prototype.Clear=function(){this.Items=[]},i.prototype.Contains=function(n){for(var t=0;t<this.Items.length;t++)if(n==this.Items[t])return!0;return!1},i.prototype.ContainsKey=function(n){for(var t=0;t<this.Items.length;t++)if(n==this.Items[t].Key)return!0;return!1},i.prototype.Remove=function(n){var r,i;if(n===undefined)throw new InvalidArgumentException;if(r=!1,n instanceof t)for(i=0;i<this.Items.length;i++)this.Items[i]==n&&(this.Items.splice(i,1),r=!0);else for(i=0;i<this.Items.length;i++)this.Items[i].Key==n&&(this.Items.splice(i,1),r=!0);if(!r)throw new KeyNotFoundException;},i.prototype.CopyTo=function(n){for(var t=0;t<this.Items.length;t++)n.Add(this.Items[t])},i.prototype.GetNative=function(){return this.Items},i.prototype.GetEnumerator=function(){return new r(this.Items)},i}(n.Collection),f,t,i,r,u;n.Dictionary=e;f=function(n){function i(){n.apply(this,arguments);this._count=0;this.Items={}}return __extends(i,n),Object.defineProperty(i.prototype,"Count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Keys",{get:function(){return this.Items.Keys()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"Values",{get:function(){return _.values(this.Items)},enumerable:!0,configurable:!0}),i.prototype.Get=function(n){return this.Items[n]},i.prototype.Set=function(n,t){this.Items[n]===undefined?(this.Items[n]=t,this._count++):this.Items[n]=t},i.prototype.Add=function(n){if(n===undefined)throw new InvalidArgumentException;n==null?console.warn("It probably isn't smart to add Null values to a Dictionary. Maybe you'd want to change your application to check for those kinds of values?"):this.Items[n.Key]=n.Value;this._count++},i.prototype.GetKey=function(n){for(var t in this.Items)if(this.Items[t]==n)return t},i.prototype.Clear=function(){this.Items={};this._count=0},i.prototype.Contains=function(n){for(var t in this.Items)if(t==n.Key&&this.Items[t]==n.Value)return!0;return!1},i.prototype.ContainsKey=function(n){return n in this.Items},i.prototype.Remove=function(n){var r,i;if(n===undefined)throw new InvalidArgumentException;if(r=!1,n instanceof t)for(i in this.Items)i==n.Key&&this.Items[i]==n.Value&&(delete this.Items[i],this._count--,r=!0);else for(i in this.Items)this.Items[i]==n&&(delete this.Items[i],this._count--,r=!0);if(!r)throw new KeyNotFoundException;},i.prototype.CopyTo=function(n){for(var i in this.Items)n.Add(new t(i,this.Items[i]))},i.prototype.GetNative=function(){return this.Items},i.prototype.GetEnumerator=function(){return new u(this.Items)},i}(n.Collection);n.SearchDictionary=f;t=function(){function n(n,t){this.Key=n;this.Value=t}return n}();n.KeyValuePair=t;i=function(){function n(){this._index=0}return Object.defineProperty(n.prototype,"Index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Current",{get:function(){throw new AbstractMethodException;},enumerable:!0,configurable:!0}),n.prototype.HasNext=function(){throw new AbstractMethodException;},n.prototype.IsValid=function(){throw new AbstractMethodException;},n.prototype.MoveNext=function(){return this.HasNext()?(this._index++,this.RefreshCurrent(),!0):!1},n.prototype.Reset=function(){this._index=0;this.RefreshCurrent()},n.prototype.RefreshCurrent=function(){throw new AbstractMethodException;},n}();n.BaseDictionaryEnumerator=i;r=function(n){function t(t){if(n.call(this),t==undefined||t==null)throw new InvalidArgumentException;this.Items=t;this.RefreshCurrent()}return __extends(t,n),Object.defineProperty(t.prototype,"Current",{get:function(){return this.Items[this.Index]},enumerable:!0,configurable:!0}),t.prototype.HasNext=function(){return this.Index+1<this.Items.length},t.prototype.IsValid=function(){return this.Index<this.Items.length},t.prototype.RefreshCurrent=function(){this.Items.length>0&&(this.Key=this.Current.Key,this.Value=this.Current.Value)},t}(i);n.DictionaryEnumerator=r;u=function(n){function i(t){if(n.call(this),t==undefined||t==null)throw new InvalidArgumentException;this.Items=t;this.Keys=_.keys(this.Items);this.RefreshCurrent()}return __extends(i,n),Object.defineProperty(i.prototype,"Current",{get:function(){return this.Keys.length>0?new t(this.Key,this.Value):undefined},enumerable:!0,configurable:!0}),i.prototype.HasNext=function(){return!(this.Keys[this.Index+1]==undefined)},i.prototype.IsValid=function(){return!(this.Keys[this.Index]==undefined)},i.prototype.RefreshCurrent=function(){this.Keys.length>0&&(this.Key=this.Keys[this.Index],this.Value=this.Items[this.Keys[this.Index]])},i}(i);n.SearchDictionaryEnumerator=u}(Collections||(Collections={})),function(n){var t=function(n){function t(){n.call(this);this._panelId=-1;this._panelName=null;this._panelId=t._panelCnt++;this._panelElement=jQuery('<div class="view-panel" id="'+this.PanelName+'">');this._contentElement=this._panelElement}return __extends(t,n),Object.defineProperty(t.prototype,"PanelName",{get:function(){return this._panelName?this._panelName:"panel"+this._panelId},set:function(n){this._panelName=n;this.PanelElement.attr("id",n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PanelSeqId",{get:function(){return this._panelId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PanelElement",{get:function(){return this._panelElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContentElement",{get:function(){return this._contentElement},enumerable:!0,configurable:!0}),t.prototype.Render=function(){this.Renderer()},t.prototype.Renderer=function(){throw new AbstractMethodException;},t.prototype.withTemplate=function(n,t){TemplateFactory.WithTemplate(n,t.bind(this))},t.prototype.GetTemplate=function(n){return TemplateFactory.GetTemplate(n)},t._panelCnt=0,t}(BaseObject);n.Panel=t}(Panels||(Panels={})),function(n){var t=function(n){function t(){n.call(this);this.Panels={};this.PanelElement.addClass("view-panel-group")}return __extends(t,n),t.prototype.AddPanel=function(n){this.Panels[n.PanelName]=n;this.ContentElement.append(n.PanelElement)},t.prototype.GetPanel=function(n){if(this.Panels[n]===undefined)throw new UnknownPanelException;return this.Panels[n]},t.prototype.GetTypedPanel=function(n){return this.GetPanel(n)},t.prototype.GetPanelsByType=function(n){var t=[];for(var i in this.Panels)i instanceof n&&(t[t.length]=i);return t},t.prototype.HasPanel=function(n){return this.Panels[n]!==undefined},t}(n.Panel);n.PanelGroup=t}(Panels||(Panels={}));UnknownPanelException=function(n){function t(){n.apply(this,arguments);this.name="UnknownPanelException";this.message="The given panel is not registred with this group or by that name."}return __extends(t,n),t}(KeyNotFoundException),function(n){(function(t){var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.Show=function(n){_.each(this.Panels,function(t,i){i==n?t.PanelElement.show():t.PanelElement.hide()})},i.prototype.Hide=function(n){_.each(this.Panels,function(t,i){i==n&&t.PanelElement.hide()})},i.prototype.Render=function(){},i.prototype.FillFromElement=function(t,i){n.LiftablePanelHelper.ReplacePanelElements(this,t);for(var r=0;r<i.length;r++)this.AddPanel(i[r].Panel)},i}(n.PanelGroup);t.StackingPanelGroup=i})(n.Groups||(n.Groups={}));var t=n.Groups}(Panels||(Panels={})),function(n){var i=function(n){function i(i,r){n.call(this);t.ReplacePanelElements(this,i,r)}return __extends(i,n),i.prototype.Renderer=function(){},i.prototype.FillFromElement=function(n,i){t.ReplacePanelElements(this,n,i)},i}(n.Panel),r,t;n.LiftedPanel=i,function(n){n[n.NotLiftable=0]="NotLiftable";n[n.Panel=1]="Panel";n[n.Group=2]="Group"}(n.LiftableElementState||(n.LiftableElementState={}));r=n.LiftableElementState;t=function(){function t(){}return t.LiftPanelFromElement=function(n){var u=n.attr(this.DataPanelType),i;if(u==undefined){var t=n.detach(),f=this.ExtractContentElement(t),r=this.ExtractPanelConfig(t);return{Panel:this.LiftedPanelConstructor(t,f,u,r.Value1),GroupConfig:r.Value2}}if(i=n.find("["+this.DataPanelType+"]"),i.length==0)return undefined;i.length>1&&(i=i.first(),console.log("Warning: Lifted a single panel from an element, where multiple elements where available."));var t=n.detach(),f=this.ExtractContentElement(t),r=this.ExtractPanelConfig(t);return{Panel:this.LiftedPanelConstructor(t,f,u,r.Value1),GroupConfig:r.Value2}},t.LiftPanelGroupFromElement=function(n){var e=n.attr(this.DataGroupType),r;if(e==undefined){var t=n.detach(),i=this.ExtractContentElement(t),u=this.ExtractPanelConfig(t),f;return f=i!=undefined?this.LiftAllWithPanelDataFromElement(i):this.LiftAllWithPanelDataFromElement(t),{Panel:this.LiftedGroupConstructor(t,i,e,u.Value1,f),GroupConfig:u.Value2}}if(r=n.find("["+this.DataGroupType+"]"),r.length==0)return undefined;r.length>1&&(r=r.first(),console.log("Warning: Lifted a single panel from an element, where multiple elements where available."));var t=n.detach(),i=this.ExtractContentElement(t),u=this.ExtractPanelConfig(t),f;return f=i!=undefined?this.LiftAllWithPanelDataFromElement(i):this.LiftAllWithPanelDataFromElement(t),{Panel:this.LiftedGroupConstructor(t,i,e,u.Value1,f),GroupConfig:u.Value2}},t.LiftAllFromElement=function(n){var t=this,i=[];return n.each(function(n,r){var u=jQuery(r),f=t.IsLiftableElement(u);switch(f){case 1:i.push(t.LiftPanelFromElement(u).Panel);break;case 2:i.push(t.LiftPanelGroupFromElement(u).Panel);break;case 0:i.concat(t.LiftAllFromElement(u))}}),i},t.LiftAllWithPanelDataFromElement=function(n){var t=this,i=[];return n.each(function(n,r){var u=jQuery(r),f=t.IsLiftableElement(u);switch(f){case 1:i.push(t.LiftPanelFromElement(u));break;case 2:i.push(t.LiftPanelGroupFromElement(u));break;case 0:i.concat(t.LiftAllWithPanelDataFromElement(u))}}),i},t.IsLiftableElement=function(n){return n.attr(this.DataPanelType)!=undefined?1:n.attr(this.DataGroupType)!=undefined?2:0},t.ExtractPanelConfig=function(n){var i=n.attr(this.DataPanelConfig),r,t,u;return r=i!=undefined&&i.length>0?JSON.parse(i):[],t=n.attr(this.DataGroupConfig),u=t!=undefined&&t.length>0?JSON.parse(t):[],new Collections.Pair(r,u)},t.ExtractContentElement=function(n){var t=n.find("["+this.DataElementRole+"=content]");return t.length==0?undefined:t.first()},t.LiftTypedPanelFromElement=function(n){return this.LiftPanelFromElement(n)},t.LiftedPanelConstructor=function(n,t,i,r){if(i!=undefined&&i.length>0){var u=this.GetPanelObjectByString(i);return u==null?(console.error('Undefined panel type set in element attribute. Given type "'+i+'" was not found and could not be instantiated.'),this.DefaultPanelConstructor(n,t,r)):new(u.bind.apply(u,[u].concat(r)))}return this.DefaultPanelConstructor(n,t,r)},t.LiftedGroupConstructor=function(n,t,i,r,u){var f,e;return typeof u=="undefined"&&(u=[]),i!=undefined&&i.length>0?(f=this.GetGroupObjectByString(i),f==null?(console.error('Undefined panel type set in element attribute. Given type "'+i+'" was not found and could not be instantiated.'),this.DefaultPanelGroupConstructor(n,t,r,u)):(e=new(f.bind.apply(f,[f].concat(r))),e.FillFromElement(n,u),e)):this.DefaultPanelGroupConstructor(n,t,r,u)},t.ReplacePanelElements=function(n,t,i){var r=n,f,u;if(t!=undefined){for(t.attr("id",r._panelElement.attr("id")),f=r._panelElement.attr("class").split(" "),u=0;u<f.length;u++)t.addClass(f[u]);r._panelElement=t}if(i!=undefined&&t!=i)if(r._panelElement==r._contentElement)r._contentElement=i;else{for(f=r._contentElement.attr("class").split(" "),u=0;u<f.length;u++)i.addClass(f[u]);r._contentElement=i}},t.IsLiftablePanel=function(n){return n!=undefined&&typeof n.CreateFromElement=="function"},t.GetPanelObjectByString=function(t){var i;return i=t.indexOf(".")>-1?this.ResolveObjectForPath(t):n[t],this.IsLiftablePanel(i)?i:null},t.GetGroupObjectByString=function(t){var i;return i=t.indexOf(".")>-1?this.ResolveObjectForPath(t):n.Groups[t],this.IsLiftablePanel(i)?i:null},t.ResolveObjectForPath=function(n){var r,t,i;try{for(r=n.split("."),t=window,i=0;i<r.length;i++)t=t[r[i]];return t}catch(u){return undefined}},t.DataElementRole="data-element-role",t.DataPanelType="data-panel-type",t.DataGroupType="data-group-type",t.DataPanelConfig="data-panel-config",t.DataGroupConfig="data-group-config",t.DefaultPanelConstructor=function(n,t){return new i(n,t)},t.DefaultPanelGroupConstructor=function(t,i,r){var u=new n.Groups.StackingPanelGroup;return u.FillFromElement(t,r),u},t}();n.LiftablePanelHelper=t}(Panels||(Panels={})),function(n){var t=function(n){function t(t,i){n.call(this);this._panel=t;this._group=i}return __extends(t,n),Object.defineProperty(t.prototype,"PanelName",{get:function(){return this._panel.PanelName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"QueryString",{get:function(){return"#"+this.PanelName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OuterElement",{get:function(){return this._panel.PanelElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InnerElement",{get:function(){return this._panel.ContentElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Visibility",{get:function(){return this._group.IsVisible(this.PanelName)},set:function(n){n?this._group.Show(this.PanelName):this._group.Hide(this.PanelName)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Group",{get:function(){return this._group},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.PanelName},t.prototype.Equals=function(n){if(n===undefined)throw new NullReferenceException;return n.PanelName==this.PanelName},t.prototype.GetHashCode=function(){return this._panel.PanelSeqId},t}(BaseObject);n.PanelReference=t}(Panels||(Panels={})),function(n){(function(n){var t,i;(function(n){n[n.Left=0]="Left";n[n.Right=1]="Right";n[n.Top=2]="Top";n[n.Down=3]="Down"})(n.Side||(n.Side={}));t=n.Side,function(n){n[n.Forward=0]="Forward";n[n.Backward=1]="Backward";n[n.Sidewards=2]="Sidewards"}(n.Direction||(n.Direction={}));i=n.Direction})(n.Viewport||(n.Viewport={}));var t=n.Viewport}(Panels||(Panels={})),function(n){(function(n){var t=function(n){function t(){n.call(this);this.TabsListElement=jQuery("<ul>");this.PanelElement.prepend(this.TabsListElement)}return __extends(t,n),t.prototype.AddPanel=function(n){this.AddTab(n,n.PanelName)},t.prototype.AddTab=function(t){var i=this;n.prototype.AddPanel.call(this,t);this.TabsListElement.append(jQuery('<li data-panelid="'+t.PanelSeqId+'">'+t.PanelName+"<\/li>").click(function(){return i.Show(t.PanelName)}))},t.prototype.SetLabel=function(n,t){this.FindTabByName(n).text(t)},t.prototype.Show=function(t){n.prototype.Show.call(this,t);this.TabsListElement.find("li.active").removeClass("active");this.FindTabByName(t).addClass("active")},t.prototype.FindTabByName=function(n){return this.TabsListElement.find("li[data-panelid="+this.Panels[n].PanelSeqId+"]")},t.prototype.Render=function(){},t}(n.StackingPanelGroup);n.TabbedPanelGroup=t})(n.Groups||(n.Groups={}));var t=n.Groups}(Panels||(Panels={}))